<!-- fileuploads/templates/upload_file.html -->

<!DOCTYPE html>
<html>

<head>
    <title>Upload and Download Files</title>
</head>

<body>
    <h2>Upload Files</h2>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <!-- Way 1 -->
        <!-- {{ form.as_p }} -->


        <!-- Way 2 -->

        <!-- <label for="image">Choose an image:</label>
        <input type="file" name="file" accept="file/*" required>
        <br> -->
        <label for="file">Choose an image:</label>
        <input type="file" name="file" accept="file/*" required>
        <br>
        <button type="submit">Upload</button>
    </form>

    <h3>Uploaded Files: in List</h3>
    <ul>
        {% for file in files %}
        <li><a href="{% url 'download_file' file.id %}">{{ file.file.name }}</a></li>
        {% empty %}
        <li>No files uploaded yet.</li>
        {% endfor %}
    </ul>
    <h3>Uploaded Files: in Table</h3>

    <table border="1">

        <tr>

            <th>Images</th>
        </tr>
        {% for file in files %}

        <tr>
            <td>
                <img src="{% url 'download_file' file.id %}" width="200px" height="200px">

            </td>
        </tr>
        <tr>
            <td>
                <a href="{% url 'download_file' file.id %}"><p>{{ file.file.name }}</p></a>

            </td>
        </tr>
        {% endfor %}

    </table>

   
</body>

</html>